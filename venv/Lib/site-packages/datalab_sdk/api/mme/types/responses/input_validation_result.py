from marshmallow_dataclass import dataclass
from typing import Union, List
from datalab_sdk.api.common.schema import CamelCaseSchema
from datalab_sdk.api.mme.types.responses.input_definition import InputDefinition
from datalab_sdk.api.mme.types.shared.datum_key import DatumKey


@dataclass(base_schema=CamelCaseSchema)
class InputValidationResult:
    input: DatumKey
    passed: bool
    issues: Union[List[str], None] = None


@dataclass(base_schema=CamelCaseSchema)
class InputsValidationResult:
    all_passed: bool
    warnings: Union[List[str], None] = None
    results: Union[List[InputValidationResult], None] = None
