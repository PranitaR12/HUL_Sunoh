from marshmallow_dataclass import dataclass
from dataclasses import field
from typing import List, Union
from datalab_sdk.api.common.schema import CamelCaseSchema
from datalab_sdk.api.mme.types.responses.model_run_trace import ModelRunTrace
from datalab_sdk.api.mme.types.responses.result_group import ResultGroup
from datalab_sdk.api.mme.types.shared.enums import RunStatus


@dataclass(base_schema=CamelCaseSchema)
class RunOutput:
    run_id: str
    run_status: RunStatus = field(metadata=dict(by_value=True))
    model_run_trace: Union[ModelRunTrace, None] = None
    result_groups: Union[List[ResultGroup], None] = None
    errors: Union[List[str], None] = None
