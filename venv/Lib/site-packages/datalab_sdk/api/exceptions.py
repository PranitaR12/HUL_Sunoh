# define api-defined exceptions
class APIError(Exception):
    """Base class for other exceptions"""
    def __init__(self, message: str, correlation_id: str = None, status_code: int = None):
        self.__message = message
        self.__correlation = correlation_id
        self.__status_code = status_code

    @property
    def status_code(self):
        """HTTP status code"""
        return self.__status_code

    @property
    def message(self):
        """Any error message that has been returned"""
        return self.__message

    @property
    def correlation_id(self):
        """Correlation id of the error, if known"""
        return self.__correlation

    def __str__(self):
      return f"[code]: {self.status_code}, [message]: {self.message}, [corr_id]:{self.correlation_id}"


class AuthNotValid(APIError):
    """Raised when the provided Auth token was not valid"""
    def __init__(self, message: str, correlation_id: str = None, status_code: int = 401):
            super().__init__(message, correlation_id, status_code)

class InputNotValid(APIError):
    """Raised when the input data was not valid for the API call"""
    def __init__(self, message: str, correlation_id: str = None, status_code: int = 400):
            super().__init__(message, correlation_id, status_code)

class ResourceNotFound(APIError):
    """Raised when a requested resource is missing """
    def __init__(self, message: str, correlation_id: str = None, status_code: int = 404):
            super().__init__(message, correlation_id, status_code)

class InternalError(APIError):
    """Raised when the API expected to process the request but failed to do so"""
    def __init__(self, message: str, correlation_id: str = None, status_code: int = 500):
            super().__init__(message, correlation_id, status_code)

class TemporaryError(APIError):
    """Raised when the API had a temporary issue in processing the request"""
    def __init__(self, message: str, correlation_id: str = None, status_code: int = 502):
            super().__init__(message, correlation_id, status_code)

class APIChanged(APIError):
    """Raised when the API is not as expected"""
    def __init__(self,  message: str, correlation_id: str = None, status_code: int = 500):
            super().__init__(message, correlation_id, status_code)
