from marshmallow_dataclass import dataclass
from dataclasses import field
from typing import List, Union
from datalab_sdk.api.common.schema import CamelCaseSchema
from datalab_sdk.api.chaining.types.responses.chain_run_trace import ChainRunTrace
from datalab_sdk.api.mme.types.responses.result import Result
from datalab_sdk.api.mme.types.shared.enums import RunStatus


@dataclass(base_schema=CamelCaseSchema)
class ChainOutput:
    run_id: str
    run_status: RunStatus = field(metadata=dict(by_value=True))
    chain_run_trace: Union[ChainRunTrace, None] = None
    results: Union[List[Result], None] = None
    errors: Union[List[str], None] = None
